#include <stdio.h>
#include <stdlib.h>
#include <string.h> //Usei para poder relacionar a idade e a altura com os nomes

// Estrutura com as variaveis que quero
struct pacientes {
    char nome[20];
    int numero;
    int sexo;
    int idade;
    float altura;
    float peso;
} s[10];

// Famoso Hall de entrada kkkkk
int main() {
    int a;
    printf("Quantos pacientes para cadastrar: \n");
    scanf("%d", &a);

    //Bora pegar as informações gente MUAHAHAHA (ROUBEI TEU CPF)
    
    int b, e =0, g = 0, c = 0, h =0, u=3, m, n= 0;
    char z[20], x[20];
    for (b = 1; b <= a; b++) {
        s[b].numero = b + 1;
        printf("\nPaciente %d\n", s[b].numero-1);
        printf("Escreva o nome: ");
        scanf("%s", s[b].nome);
        printf("(1) Para Masculino e (2) para Feminino: ");
        scanf("%i", &s[b].sexo);
        printf("Escreva a idade: ");
        scanf("%d", &s[b].idade);
        printf("Escreva a altura: ");
        scanf("%f", &s[b].altura);
        printf("Escreva o peso: ");
        scanf("%f", &s[b].peso); 
       
       //Pra se não houver mulheres por precaução
       if (s[b].sexo == 2)
       {
           n++;
       }
       
       //Agora ta na hora de pegar as medias de idade
       if (s[b].sexo == 1)
       {
            e = e + s[b].idade;
       } 
       
       //Aqui são as mulheres entre 1.60 e 1.70 com mais de 70kg
       if (s[b].sexo == 2 && s[b].altura > 1.59 && s[b].altura < 1.71 && s[b].peso >69)
        {
            g++;
        }
        
        //quantidade de pacientes entre 18 e 25;        
        if (s[b].idade > 17 && s[b].idade<26)
        {
            c++;
        }
        
        // O nome do véio
        if (s[b].sexo == 1){
            if (s[b].idade> h){
                h = s[b].idade;

                strcpy(z, s[b].nome);
            }
        }
        
        // Muié baixa
        if (s[b].sexo == 2){
            if (s[b].altura < u){
                u = s[b].altura;

                strcpy(x, s[b].nome);

            }

        }
    }
    m = e/a;
    //Gran finale, aqui onde vão aparecer as informações no CMD :D
    printf("\n*************************************************** \n\n");
    if (a > 0){
        printf("Pacientes Registrados: %d\n", a);
            
            //Parte relacionada a pacientes entre 18 e 25 anos           
            
            if (c > 0)
            { 
                printf("Pacientes entre 18 e 25 anos: %d\n", c);
            }
                 else {
                    c=0;
                    printf("Nao tem pacientes entre 18 e 25 anos\n");
                }
            
            //Parte relacionada a média de homens

            if (e > 0){
                printf("Idade media entres pacientes do genero masculino: %d\n", m);
            }
                else{
                    e=0;
                    printf("Nao tem homem\n");
                }
            
            //Parte relacionada a quantidade de mulheres com informações especificas

            if(g > 0){
                printf("Mulheres entre 1.60 e 1.70 com mais de 70kg: %d\n", g);
            }
                else{
                    g=0;
                    printf("Nao ha mulheres que se encaixam no requerimento de peso e altura\n");
                }
            
            //Parte relacionada ao paciente véio

            if (e>0){
                printf("Paciente do genero masculino mais velho: Senhor %s\n", z);
            }
                else{
                    e=0;
                    printf("Se nao foram registrado pacientes do genero masculino logo nao ha como passar quem eh o mais velho\n");
                }

            //Parte da moça baixa

            if (n>0){
                printf("Paciente mais baixa: Senhorita %s\n", x);
            }
                else{
                    n=0;
                    printf("Nao foram registrados mulheres no sistema para dizer quem eh a mais baixa\n");
                }

    }
    //Caso não tenha pacientes
    else {
        a = 0;
        printf("Parabens, o bem venceu o mal e agora nao existe mais doencas\n\n");
        printf("\n*************************************************** \n\n");
    }
    

}
